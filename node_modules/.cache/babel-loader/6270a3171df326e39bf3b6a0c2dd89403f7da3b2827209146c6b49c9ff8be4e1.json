{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport _ from 'lodash';\nexport default function UseDataFetch(listCategory) {\n  _s();\n  const [items, setItems] = useState([]);\n  const fetchItems = () => {\n    fetch(`http://localhost:3002/${listCategory}`).then(items => items.json()).then(items => {\n      let newItems = [];\n      console.log(items);\n      if (listCategory === \"items\") newItems = items.items.map(item => ReaderFunc(item, \"items\"));else newItems = items.categories.map(item => ReaderFunc(item, \"categories\"));\n      setItems(newItems);\n    });\n  };\n  useEffect(() => {\n    fetchItems();\n  }, []);\n  function ReaderFunc(item, listCategory) {\n    if (listCategory === \"items\") return {\n      \"product_name\": item.product_name,\n      \"image_url\": item.image_url,\n      \"id\": item.id,\n      \"price\": item.price,\n      \"discount_price\": item.discount_price,\n      \"currency\": item.currency,\n      \"categories\": [item.categories]\n    };else if (listCategory === \"categories\") return {\n      \"display_text\": item.display_text,\n      \"image_url\": item.image_url,\n      \"id\": item.id,\n      \"active\": item.active,\n      \"product_count\": item.product_count,\n      \"action\": {\n        \"url\": item.action.url,\n        \"type\": item.action.type\n      }\n    };\n  }\n  return items;\n}\n_s(UseDataFetch, \"E85yb7BhBnl3/OpymRdjFiQJ97s=\");\n_c = UseDataFetch;\nvar _c;\n$RefreshReg$(_c, \"UseDataFetch\");","map":{"version":3,"names":["useState","useEffect","_","UseDataFetch","listCategory","_s","items","setItems","fetchItems","fetch","then","json","newItems","console","log","map","item","ReaderFunc","categories","product_name","image_url","id","price","discount_price","currency","display_text","active","product_count","action","url","type","_c","$RefreshReg$"],"sources":["/Users/adarshg/Desktop/tekion-interns-blinkit/blinkit/src/organisms/helpers/Organism.Helper.DataFetch.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport _ from 'lodash'\nexport default function UseDataFetch(listCategory) {\n  const [items, setItems] = useState([]);\n\n  const fetchItems = () => {\n    fetch(`http://localhost:3002/${listCategory}`)\n      .then((items) => items.json())\n      .then((items) => {\n        let newItems = [];\n\n        console.log(items);\n\n        if (listCategory === \"items\")\n          newItems = items.items.map(item => ReaderFunc(item, \"items\"));\n        else\n          newItems = items.categories.map(item => ReaderFunc(item, \"categories\"));\n\n        setItems(newItems);\n      });\n  };\n\n  useEffect(() => {\n    fetchItems();\n  }, []);\n\n  function ReaderFunc(item, listCategory) {\n    if (listCategory === \"items\")\n      return (\n        {\n          \"product_name\": item.product_name,\n          \"image_url\": item.image_url,\n          \"id\": item.id,\n          \"price\": item.price,\n          \"discount_price\": item.discount_price,\n          \"currency\": item.currency,\n          \"categories\": [item.categories]\n        }\n      )\n    else if (listCategory === \"categories\")\n      return (\n        {\n          \"display_text\": item.display_text,\n          \"image_url\": item.image_url,\n          \"id\": item.id,\n          \"active\": item.active,\n          \"product_count\": item.product_count,\n          \"action\": {\n            \"url\": item.action.url,\n            \"type\": item.action.type\n          }\n        }\n      )\n  }\n  return items;\n}\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,CAAC,MAAM,QAAQ;AACtB,eAAe,SAASC,YAAYA,CAACC,YAAY,EAAE;EAAAC,EAAA;EACjD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAMQ,UAAU,GAAGA,CAAA,KAAM;IACvBC,KAAK,CAAE,yBAAwBL,YAAa,EAAC,CAAC,CAC3CM,IAAI,CAAEJ,KAAK,IAAKA,KAAK,CAACK,IAAI,EAAE,CAAC,CAC7BD,IAAI,CAAEJ,KAAK,IAAK;MACf,IAAIM,QAAQ,GAAG,EAAE;MAEjBC,OAAO,CAACC,GAAG,CAACR,KAAK,CAAC;MAElB,IAAIF,YAAY,KAAK,OAAO,EAC1BQ,QAAQ,GAAGN,KAAK,CAACA,KAAK,CAACS,GAAG,CAACC,IAAI,IAAIC,UAAU,CAACD,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,KAE9DJ,QAAQ,GAAGN,KAAK,CAACY,UAAU,CAACH,GAAG,CAACC,IAAI,IAAIC,UAAU,CAACD,IAAI,EAAE,YAAY,CAAC,CAAC;MAEzET,QAAQ,CAACK,QAAQ,CAAC;IACpB,CAAC,CAAC;EACN,CAAC;EAEDX,SAAS,CAAC,MAAM;IACdO,UAAU,EAAE;EACd,CAAC,EAAE,EAAE,CAAC;EAEN,SAASS,UAAUA,CAACD,IAAI,EAAEZ,YAAY,EAAE;IACtC,IAAIA,YAAY,KAAK,OAAO,EAC1B,OACE;MACE,cAAc,EAAEY,IAAI,CAACG,YAAY;MACjC,WAAW,EAAEH,IAAI,CAACI,SAAS;MAC3B,IAAI,EAAEJ,IAAI,CAACK,EAAE;MACb,OAAO,EAAEL,IAAI,CAACM,KAAK;MACnB,gBAAgB,EAAEN,IAAI,CAACO,cAAc;MACrC,UAAU,EAAEP,IAAI,CAACQ,QAAQ;MACzB,YAAY,EAAE,CAACR,IAAI,CAACE,UAAU;IAChC,CAAC,CACF,KACE,IAAId,YAAY,KAAK,YAAY,EACpC,OACE;MACE,cAAc,EAAEY,IAAI,CAACS,YAAY;MACjC,WAAW,EAAET,IAAI,CAACI,SAAS;MAC3B,IAAI,EAAEJ,IAAI,CAACK,EAAE;MACb,QAAQ,EAAEL,IAAI,CAACU,MAAM;MACrB,eAAe,EAAEV,IAAI,CAACW,aAAa;MACnC,QAAQ,EAAE;QACR,KAAK,EAAEX,IAAI,CAACY,MAAM,CAACC,GAAG;QACtB,MAAM,EAAEb,IAAI,CAACY,MAAM,CAACE;MACtB;IACF,CAAC;EAEP;EACA,OAAOxB,KAAK;AACd;AAACD,EAAA,CArDuBF,YAAY;AAAA4B,EAAA,GAAZ5B,YAAY;AAAA,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}