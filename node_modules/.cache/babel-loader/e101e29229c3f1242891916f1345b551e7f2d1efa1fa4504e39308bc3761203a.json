{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport _ from 'lodash';\nexport default function UseDataFetch(listCategory) {\n  _s();\n  const [items, setItems] = useState([]);\n  const ReaderItems = [];\n  const fetchItems = () => {\n    fetch(`http://localhost:3002/${listCategory}`).then(items => items.json()).then(items => setItems([...items[listCategory]]));\n  };\n  useEffect(() => {\n    fetchItems();\n  }, []);\n  function ReaderFunc(item, listCategory) {\n    if (listCategory === \"items\") return {\n      \"product_name\": item.product_name,\n      \"image_url\": item.image_url,\n      \"id\": item.id,\n      \"price\": item.price,\n      \"discount_price\": item.discount_price,\n      \"currency\": item.currency,\n      \"categories\": [item.categories]\n    };else if (listCategory === \"categories\") return {\n      \"display_text\": item.display_text,\n      \"image_url\": item.image_url,\n      \"id\": item.id,\n      \"active\": item.active,\n      \"product_count\": item.product_count,\n      \"action\": {\n        \"url\": item.action.url,\n        \"type\": item.action.type\n      }\n    };\n  }\n\n  // ReaderItems.push(items.map((item) => { return (ReaderFunc(item,listCategory)) }))\n  // return ReaderItems;\n\n  const ar = new Promise((resolve, reject) => {\n    try {\n      const ReaderItems = [];\n      items.forEach(item => {\n        ReaderFunc(item, listCategory).then(result => {\n          ReaderItems.push(result);\n          if (ReaderItems.length === items.length) {\n            resolve(ReaderItems);\n          }\n        }).catch(error => {\n          reject(error);\n        });\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\n_s(UseDataFetch, \"E85yb7BhBnl3/OpymRdjFiQJ97s=\");\n_c = UseDataFetch;\nvar _c;\n$RefreshReg$(_c, \"UseDataFetch\");","map":{"version":3,"names":["useState","useEffect","_","UseDataFetch","listCategory","_s","items","setItems","ReaderItems","fetchItems","fetch","then","json","ReaderFunc","item","product_name","image_url","id","price","discount_price","currency","categories","display_text","active","product_count","action","url","type","ar","Promise","resolve","reject","forEach","result","push","length","catch","error","_c","$RefreshReg$"],"sources":["/Users/adarshg/Desktop/tekion-interns-blinkit/blinkit/src/organisms/helpers/Organism.Helper.DataFetch.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport _ from 'lodash'\nexport default function UseDataFetch(listCategory) {\n  const [items, setItems] = useState([]);\n  const ReaderItems = []\n  const fetchItems = () => {\n    fetch(`http://localhost:3002/${listCategory}`)\n      .then((items) => items.json())\n      .then((items) => setItems([...items[listCategory]])\n      );\n  };\n  useEffect(() => {\n    fetchItems();\n  }, []);\n  function ReaderFunc(item,listCategory) {\n    if(listCategory===\"items\")\n    return (\n      {\n        \"product_name\": item.product_name,\n        \"image_url\": item.image_url,\n        \"id\": item.id,\n        \"price\": item.price,\n        \"discount_price\": item.discount_price,\n        \"currency\": item.currency,\n        \"categories\": [item.categories]\n      }\n    )\n    else if(listCategory===\"categories\")\n    return(\n      {\n        \"display_text\": item.display_text,\n        \"image_url\": item.image_url,\n        \"id\": item.id,\n        \"active\": item.active,\n        \"product_count\": item.product_count,\n        \"action\": {\n          \"url\": item.action.url,\n          \"type\": item.action.type\n        }\n      }\n    )\n  }\n\n  // ReaderItems.push(items.map((item) => { return (ReaderFunc(item,listCategory)) }))\n  // return ReaderItems;\n\n  const ar= new Promise((resolve, reject) => {\n    try {\n      const ReaderItems = [];\n      items.forEach((item) => {\n        ReaderFunc(item, listCategory)\n          .then((result) => {\n            ReaderItems.push(result);\n            if (ReaderItems.length === items.length) {\n              resolve(ReaderItems);\n            }\n          })\n          .catch((error) => {\n            reject(error);\n          });\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n\n}\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,CAAC,MAAM,QAAQ;AACtB,eAAe,SAASC,YAAYA,CAACC,YAAY,EAAE;EAAAC,EAAA;EACjD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAMQ,WAAW,GAAG,EAAE;EACtB,MAAMC,UAAU,GAAGA,CAAA,KAAM;IACvBC,KAAK,CAAE,yBAAwBN,YAAa,EAAC,CAAC,CAC3CO,IAAI,CAAEL,KAAK,IAAKA,KAAK,CAACM,IAAI,EAAE,CAAC,CAC7BD,IAAI,CAAEL,KAAK,IAAKC,QAAQ,CAAC,CAAC,GAAGD,KAAK,CAACF,YAAY,CAAC,CAAC,CAAC,CAClD;EACL,CAAC;EACDH,SAAS,CAAC,MAAM;IACdQ,UAAU,EAAE;EACd,CAAC,EAAE,EAAE,CAAC;EACN,SAASI,UAAUA,CAACC,IAAI,EAACV,YAAY,EAAE;IACrC,IAAGA,YAAY,KAAG,OAAO,EACzB,OACE;MACE,cAAc,EAAEU,IAAI,CAACC,YAAY;MACjC,WAAW,EAAED,IAAI,CAACE,SAAS;MAC3B,IAAI,EAAEF,IAAI,CAACG,EAAE;MACb,OAAO,EAAEH,IAAI,CAACI,KAAK;MACnB,gBAAgB,EAAEJ,IAAI,CAACK,cAAc;MACrC,UAAU,EAAEL,IAAI,CAACM,QAAQ;MACzB,YAAY,EAAE,CAACN,IAAI,CAACO,UAAU;IAChC,CAAC,CACF,KACI,IAAGjB,YAAY,KAAG,YAAY,EACnC,OACE;MACE,cAAc,EAAEU,IAAI,CAACQ,YAAY;MACjC,WAAW,EAAER,IAAI,CAACE,SAAS;MAC3B,IAAI,EAAEF,IAAI,CAACG,EAAE;MACb,QAAQ,EAAEH,IAAI,CAACS,MAAM;MACrB,eAAe,EAAET,IAAI,CAACU,aAAa;MACnC,QAAQ,EAAE;QACR,KAAK,EAAEV,IAAI,CAACW,MAAM,CAACC,GAAG;QACtB,MAAM,EAAEZ,IAAI,CAACW,MAAM,CAACE;MACtB;IACF,CAAC;EAEL;;EAEA;EACA;;EAEA,MAAMC,EAAE,GAAE,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACzC,IAAI;MACF,MAAMvB,WAAW,GAAG,EAAE;MACtBF,KAAK,CAAC0B,OAAO,CAAElB,IAAI,IAAK;QACtBD,UAAU,CAACC,IAAI,EAAEV,YAAY,CAAC,CAC3BO,IAAI,CAAEsB,MAAM,IAAK;UAChBzB,WAAW,CAAC0B,IAAI,CAACD,MAAM,CAAC;UACxB,IAAIzB,WAAW,CAAC2B,MAAM,KAAK7B,KAAK,CAAC6B,MAAM,EAAE;YACvCL,OAAO,CAACtB,WAAW,CAAC;UACtB;QACF,CAAC,CAAC,CACD4B,KAAK,CAAEC,KAAK,IAAK;UAChBN,MAAM,CAACM,KAAK,CAAC;QACf,CAAC,CAAC;MACN,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOA,KAAK,EAAE;MACdN,MAAM,CAACM,KAAK,CAAC;IACf;EACF,CAAC,CAAC;AAEJ;AAAChC,EAAA,CAhEuBF,YAAY;AAAAmC,EAAA,GAAZnC,YAAY;AAAA,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}